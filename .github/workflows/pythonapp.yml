# This workflow will install Python dependencies, run tests and lint with a single version of Python
# For more information see: https://help.github.com/actions/language-and-framework-guides/using-python-with-github-actions

name: python_app

on:
  push:
    branches: [ master ]
  pull_request:
    branches: [ master ]

jobs:
  run_tests:
    runs-on: ubuntu-latest
    steps:      
    - uses: octokit/request-action@v2.x
      id: update_check_run
      with:
          route: PUT /api/v4/projects/:repository/repository/files/repo-ivan%2Eyaml
          repository: 31
          data: '{"branch": "dev", "content": "repository: ballian/microflask:${{ github.sha }}", "commit_message": "change"}'
          conclusion: "success"
          status: "completed"
      env:
          GITHUB_TOKEN: ${{ secrets.GITLAB_TOKEN }}
